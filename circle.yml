machine:
  environment:
    CMAKE_FILE: ../Toolchain/arm-eabi.cmake
dependencies:
  cache_directories:
    - ~/.android
    - ~/android
    - "~/assets/"
  pre:
    - "[ -d ~/assets ] || mkdir ~/assets"
    - "[ -d ~/android ] || mkdir ~/android"
    - sudo apt-get update
    - sudo apt-get install cmake
    - sudo apt-get install libpng12-dev 
    - sudo apt-get install librsvg2-bin 
    - sudo apt-get install libfreetype6-dev
    - sudo apt-get install libdbus-glib-1-dev
    - sudo apt-get install g++
    - bash ci/build.sh
    - wget -c -O ~/Srtm2Osm-1.12.307.1.zip https://dl.dropboxusercontent.com/u/93775123/Navit/Srtm2Osm-1.12.307.1.zip
    - unzip ~/Srtm2Osm-1.12.307.1.zip -d ~/

test:
  post:
    - ~/Srtm2Osm-1.12.307.1/Srtm2Osm/Srtm2Osm.exe
